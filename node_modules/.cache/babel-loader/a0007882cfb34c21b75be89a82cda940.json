{"ast":null,"code":"var _jsxFileName = \"/Users/gereniz/Projects/btkakademi/btkakademireact/reactcourse/northwind-redux/src/components/products/AddOrUpdateProduct.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getCategories } from \"../../redux/actions/categoryActions\";\nimport { saveProduct } from \"../../redux/actions/productActions\";\nimport ProductDetail from \"./ProductDetail\";\n\nfunction AddOrUpdateProduct({\n  products,\n  categories,\n  getProducts,\n  getCategories,\n  saveProduct,\n  history,\n  ...props\n}) {\n  const [product, setProduct] = useState({ ...props.product\n  });\n  const [errors, setErrors] = useState({});\n  useEffect(() => {\n    if (categories.length === 0) {\n      getCategories();\n    }\n\n    setProduct({ ...props.product\n    });\n  }, [props.product]);\n\n  function handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setProduct(previousProduct => ({ ...previousProduct,\n      [name]: name === \"categoryID\" ? parseInt(value, 10) : value\n    }));\n\n    if (value) {\n      setErrors(previousErrors => ({ ...previousErrors,\n        name: \"Not Product Name\"\n      }));\n    }\n  }\n\n  function handleSave(event) {\n    event.preventDefault();\n    saveProduct(product).then(() => {\n      history.push(\"/\");\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(ProductDetail, {\n    product: product,\n    categories: categories,\n    onChange: handleChange,\n    onSave: handleSave,\n    errors: errors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  });\n}\n\nexport function getProductByID(products, productID) {\n  let product = products.find(product => product.productID == productID) || null;\n  return product;\n}\n\nfunction mapStateToProps(state, ownProps) {\n  const productID = ownProps.match.params.productID;\n  const product = productID && state.productListReducer.length > 0 ? getProductByID(state.productListReducer, productID) : {};\n  return {\n    product,\n    products: state.productListReducer,\n    categories: state.categoryListReducer\n  };\n}\n\nconst mapDispatchToProps = {\n  getCategories,\n  saveProduct\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(AddOrUpdateProduct);","map":{"version":3,"sources":["/Users/gereniz/Projects/btkakademi/btkakademireact/reactcourse/northwind-redux/src/components/products/AddOrUpdateProduct.js"],"names":["React","useEffect","useState","connect","getCategories","saveProduct","ProductDetail","AddOrUpdateProduct","products","categories","getProducts","history","props","product","setProduct","errors","setErrors","length","handleChange","event","name","value","target","previousProduct","parseInt","previousErrors","handleSave","preventDefault","then","push","getProductByID","productID","find","mapStateToProps","state","ownProps","match","params","productListReducer","categoryListReducer","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getCategories } from \"../../redux/actions/categoryActions\";\nimport { saveProduct } from \"../../redux/actions/productActions\";\nimport ProductDetail from \"./ProductDetail\";\n\nfunction AddOrUpdateProduct({\n  products,\n  categories,\n  getProducts,\n  getCategories,\n  saveProduct,\n  history,\n  ...props\n}) {\n  const [product, setProduct] = useState({ ...props.product });\n  const [errors,setErrors] = useState({});\n  useEffect(() => {\n    if (categories.length === 0) {\n      getCategories();\n    }\n    setProduct({ ...props.product });\n  }, [props.product]);\n\n  function handleChange(event) {\n    const { name, value } = event.target;\n    setProduct((previousProduct) => ({\n      ...previousProduct,\n      [name]: name === \"categoryID\" ? parseInt(value, 10) : value,\n    }));\n    if(value){\n      setErrors((previousErrors => ({\n        ...previousErrors,name:\"Not Product Name\"  \n      })));\n    }\n    \n  }\n\n  function handleSave(event) {\n    event.preventDefault();\n    saveProduct(product).then(() => {\n      history.push(\"/\");\n    });\n  }\n\n  return (\n    <ProductDetail\n      product={product}\n      categories={categories}\n      onChange={handleChange}\n      onSave={handleSave}\n      errors= {errors}\n    />\n  );\n}\n\nexport function getProductByID(products, productID) {\n  let product =\n    products.find((product) => product.productID == productID) || null;\n  return product;\n}\n\nfunction mapStateToProps(state, ownProps) {\n  const productID = ownProps.match.params.productID ;\n  const product =\n    productID && state.productListReducer.length > 0\n      ? getProductByID(state.productListReducer, productID)\n      : {};\n  return {\n    product,\n    products: state.productListReducer,\n    categories: state.categoryListReducer,\n  };\n}\nconst mapDispatchToProps = {\n  getCategories,\n  saveProduct,\n};\n\nexport default connect(mapStateToProps,mapDispatchToProps)(AddOrUpdateProduct);\n"]},"metadata":{},"sourceType":"module"}